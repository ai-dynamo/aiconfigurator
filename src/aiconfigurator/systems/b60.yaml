# SPDX-FileCopyrightText: Copyright (c) 2026 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

data_dir: data/b60 # relative to systems_dir
gpu:
  mem_bw: 456000000000 # 456GB/s
  mem_bw_empirical_scaling_factor: 0.8 # some nonofficial correction based on observations, you should try to modify based on your own observations
  mem_empirical_constant_latency: 0.000003 # 3us some nonofficial correction based on observations, you should try to modify based on your own observations
  mem_capacity: 25769803776 # 24GiB
  float32_tc_flops: 12280000000000 # 12.28TFLOPS
  float16_tc_flops: 24560000000000 # 24.56TFLOPS <= float32 12.28 * 2
  int8_tc_flops: 197000000000000 # 197TOPS
  power: 200 # Watt (Total Board Power)

node:
  num_gpus_per_node: 8 # check your # cards with sycl-ls
  inter_node_bw: 25000000000 # Byte/s per GPU, single direction, 1:1 CX7 per node, 25GB/s
  intra_node_bw: 32000000000    # NEED TO CHECK (==PCIe bw without NVLink)! Byte/s per GPU, single direction
  pcie_bw: 32000000000  # Byte/s, single direction, pcie 5.0 (4GB/s) x8 (8 lane for b60)
  p2p_latency: 0.00001  # 10us some nonofficial correction based on observations, you should try to modify based on your own observations

# TODO fix this with oneccl, use for memory usage computation
misc:
  nccl_mem: # some nonofficial correction based on observations, you should try to modify based on your own observations
    1: 0
    2: 358612992 # 342MB
    4: 411041792 # 392MB
    8: 411041792 # 392MB
  other_mem: 3758096384 # increase from 551MB to 3.5GB for safer deployment, this will cover part of the inaccurate mem calc.
  nccl_version: '2.23'